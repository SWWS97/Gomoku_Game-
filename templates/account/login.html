{% extends "account/base_auth.html" %}
{% load socialaccount %}
{% block title %}로그인 – 오목조목{% endblock %}
{% block content %}
<h1><span class="stone black"></span> 로그인</h1>
<p class="sub">오목 한 판 하러 가볼까요?</p>

<form method="post" action="{% url 'account_login' %}">
  {% csrf_token %}

  {% if form.non_field_errors %}
    <div class="errorlist">{{ form.non_field_errors }}</div>
  {% endif %}

  <div class="row">
    <label for="id_login">아이디 또는 이메일</label>
    <input type="text" name="login" id="id_login" placeholder="아이디 또는 이메일" required>
    {% if form.login.errors %}
      <ul class="errorlist">
        {% for error in form.login.errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>

  <div class="row">
    <label for="id_password">비밀번호</label>
    <input type="password" name="password" id="id_password" placeholder="비밀번호" required>
    {% if form.password.errors %}
      <ul class="errorlist">
        {% for error in form.password.errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>

  <button class="btn" type="submit">입장하기 (●)</button>

  <div class="links">
    <a class="muted" href="{% url 'account_reset_password' %}">비밀번호 재설정</a>
    <a class="muted" href="{% url 'account_signup' %}">회원가입</a>
  </div>

  {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}">
  {% endif %}
</form>

<!-- 소셜 로그인 섹션 -->
<div class="social-login-section">
  <p class="social-login-title">간편 로그인</p>

<style>
  .social-login-section {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--line);
  }
  .social-login-title {
    text-align: center;
    color: var(--muted);
    margin-bottom: 1rem;
    font-weight: 500;
  }
</style>

  <div style="display: flex; flex-direction: column; gap: 12px;">
    <!-- 네이버 로그인 -->
    <a href="{% url 'naver_login' %}"
       style="display: block; width: 100%; padding: 14px; background: #03C75A; color: white; text-align: center; text-decoration: none; border-radius: 12px; font-weight: 600; font-size: 15px;">
      네이버로 시작하기
    </a>

    <!-- 카카오 로그인 -->
    <a href="{% url 'kakao_login' %}"
       style="display: block; width: 100%; padding: 14px; background: #FEE500; color: #3C1E1E; text-align: center; text-decoration: none; border-radius: 12px; font-weight: 600; font-size: 15px;">
      카카오로 시작하기
    </a>
  </div>
</div>
{% endblock %}
