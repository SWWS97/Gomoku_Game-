{% extends "account/base_auth.html" %}
{% block title %}비밀번호 재설정 – 오목조목{% endblock %}
{% block content %}
<h1><span class="stone black"></span> 비밀번호 재설정</h1>
<p class="sub">가입한 이메일 주소를 입력해주세요</p>

{% if user.is_authenticated %}
<div class="info-box">
  <p>이미 로그인되어 있습니다. <a href="{% url 'games:lobby' %}">로비로 이동</a></p>
</div>
{% endif %}

<form method="post" action="{% url 'account_reset_password' %}">
  {% csrf_token %}

  <div class="row">
    <label for="id_email">이메일 주소</label>
    <input type="email" name="email" id="id_email" placeholder="example@email.com" required autofocus>
    {% if form.email.errors %}
      <ul class="errorlist">
        {% for error in form.email.errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>

  <button class="btn" type="submit">재설정 링크 받기</button>

  <div class="links">
    <a class="muted" href="{% url 'account_login' %}">로그인으로 돌아가기</a>
  </div>
</form>

<div class="help-text">
  <p><strong>이메일을 등록하지 않으셨나요?</strong></p>
  <p>이메일 미등록 계정은 비밀번호를 재설정할 수 없습니다. 새 계정을 만들어주세요.</p>
  <a href="{% url 'account_signup' %}">새 계정 만들기</a>
</div>

<style>
  .help-text {
    margin-top: 20px;
    padding: 16px;
    background: #f8f9fa;
    border-radius: 10px;
    font-size: 13px;
    line-height: 1.5;
  }
  .help-text p {
    margin: 0 0 8px;
  }
  .help-text a {
    color: #3e2a1f;
    font-weight: 600;
  }
  .info-box {
    background: #fff3cd;
    border: 1px solid #ffc107;
    border-radius: 12px;
    padding: 12px 16px;
    margin-bottom: 16px;
    font-size: 14px;
  }
  .info-box p {
    margin: 0;
  }
</style>
{% endblock %}